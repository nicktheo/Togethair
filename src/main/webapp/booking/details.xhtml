<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<ui:composition template="/template.xhtml">
    <ui:define name="pageContent">
        <h:outputText value="total price: "/>
        <h:outputText value="#{reportingController.bookingInfo(param['bookingId']).totalPrice} EUR"/>

                <h:dataTable value="#{reportingController.bookingInfo(param['bookingId']).bookingLines}" var="g" styleClass="table table-striped">
                    <h:column>
                        <h:outputText value="#{g.tickets.get(0).seat.travelClass.flight.origin.toString()}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.tickets.get(0).seat.travelClass.flight.destination.toString()}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.tickets.get(0).seat.travelClass.flight.departure}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.tickets.get(0).seat.travelClass.type}"/>
                    </h:column>
                </h:dataTable>

            <h:dataTable value="#{reportingController.bookingInfo(param['bookingId']).bookingLines.get(0).tickets}" var="o" styleClass="table table-striped">
                <h:column>
                    <h:outputText value="#{o.passenger.firstName}"/>
                </h:column>
                <h:column>
                    <h:outputText value="#{o.passenger.lastName}"/>
                </h:column>
            </h:dataTable>

        <h:form><h:commandLink action="exit" value="Home" /></h:form>
    </ui:define>
</ui:composition>

</html>