<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<ui:composition template="/template.xhtml">
    <ui:define name="pageContent">
        <h:outputText value="total price: "/>
        <h:outputText value="#{reportingController.bookingInfo(param['bookingId']).totalPrice} EUR"/>
        <ui:repeat var="o" value="#{reportingController.bookingInfo(param['bookingId']).bookingLines}">

                <h:dataTable value="#{o.tickets.get(0).seat.travelClass}" var="g" styleClass="table table-striped">
                    <h:column>
                        <h:outputText value="#{g.flight.origin.toString()}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.flight.destination.toString()}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.flight.departure}"/>
                    </h:column>
                    <h:column>
                        <h:outputText value="#{g.type}"/>
                    </h:column>
                </h:dataTable>
        </ui:repeat>

        <ui:repeat var="o" value="#{reportingController.bookingInfo(param['bookingId']).bookingLines}">

            <h:dataTable value="#{o.tickets}" var="g" styleClass="table table-striped">
                <h:column>
                    <h:outputText value="#{g.passenger.firstName}"/>
                </h:column>
                <h:column>
                    <h:outputText value="#{g.passenger.lastName}"/>
                </h:column>
            </h:dataTable>
        </ui:repeat>

        <h:form><h:commandLink action="exit" value="Home" /></h:form>
    </ui:define>
</ui:composition>

</html>